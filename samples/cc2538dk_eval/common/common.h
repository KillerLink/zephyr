#ifndef __COMMON_H
#define __COMMON_H

#include <stdint.h>


//some constants
#define IPV6_SERVER_ADDR "fd0b:ad46:74e5:de4c::1"
#define IPV6_CLIENT_ADDR "fd0b:ad46:74e5:de4c::2"
#define SERVER_PORT (4242)
#define DATA_TOTAL (100*1000)
#define DATA_LENGTH (100)
#define EXPERIMENT_DELAY (10)
#define MESSAGE_DELAY (3)


//intrinsics for evaluation
#define EVAL_HWREG(addr) (*((volatile uint32_t*)(addr)))

#define EVAL_PORTA_BASE (0x400D9000)
#define EVAL_PORTB_BASE (0x400DA000)
#define EVAL_PORTC_BASE (0x400DB000)
#define EVAL_PORTD_BASE (0x400DC000)

#define EVAL_PORT_DATA_OFF (0x000)
#define EVAL_PORT_DIR_OFF (0x400)

#define EVAL_LED_PORT_BASE (EVAL_PORTC_BASE)
#define EVAL_LED_PORT_DATA (EVAL_LED_PORT_BASE+EVAL_PORT_DATA_OFF)
#define EVAL_LED_PORT_DIR (EVAL_LED_PORT_BASE+EVAL_PORT_DIR_OFF)

#define EVAL_LED1_PIN (0)
#define EVAL_LED1_OUTPUT (EVAL_HWREG(EVAL_LED_PORT_DIR) |= (1<<EVAL_LED1_PIN))
#define EVAL_LED1_ON (EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED1_PIN))) |= 0xFF)
#define EVAL_LED1_OFF (EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED1_PIN))) &= 0x00)
#define EVAL_LED1_TOGGLE (EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED1_PIN))) = ~EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED1_PIN))) )

#define EVAL_LED2_PIN (1)
#define EVAL_LED2_OUTPUT (EVAL_HWREG(EVAL_LED_PORT_DIR) |= (1<<EVAL_LED2_PIN))
#define EVAL_LED2_ON (EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED2_PIN))) |= 0xFF)
#define EVAL_LED2_OFF (EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED2_PIN))) &= 0x00)
#define EVAL_LED2_TOGGLE (EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED2_PIN))) = ~EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED2_PIN))) )

#define EVAL_LED3_PIN (2)
#define EVAL_LED3_OUTPUT (EVAL_HWREG(EVAL_LED_PORT_DIR) |= (1<<EVAL_LED3_PIN))
#define EVAL_LED3_ON (EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED3_PIN))) |= 0xFF)
#define EVAL_LED3_OFF (EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED3_PIN))) &= 0x00)
#define EVAL_LED3_TOGGLE (EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED3_PIN))) = ~EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED3_PIN))) )

#define EVAL_LED4_PIN (3)
#define EVAL_LED4_OUTPUT (EVAL_HWREG(EVAL_LED_PORT_DIR) |= (1<<EVAL_LED4_PIN))
#define EVAL_LED4_ON (EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED4_PIN))) |= 0xFF)
#define EVAL_LED4_OFF (EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED4_PIN))) &= 0x00)
#define EVAL_LED4_TOGGLE (EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED4_PIN))) = ~EVAL_HWREG(EVAL_LED_PORT_DATA+(1<<(2+EVAL_LED4_PIN))) )

#endif
